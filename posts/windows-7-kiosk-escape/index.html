<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>Windows 7 Kiosk Escape :: H4cklife!! — No-life it</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Backstory One day I was on site with client and was tasked with assessing an application for them. This was troubling for two reasons: 1.) This was my first on site assessment and 2.) due to the nature of the content I was tasked to work with, my little visit there required full supervision, which meant that my primary point of contact (POC) watched over my shoulder as I worked on this application for about 4 or so hours."/>
<meta name="keywords" content="Hacking"/>
<meta name="robots" content="noodp"/>
<link rel="canonical" href="/H4cklife.github.io/posts/windows-7-kiosk-escape/" />


<link rel="stylesheet" href="/H4cklife.github.io/assets/style.css">


<link rel="stylesheet" href="/H4cklife.github.io/style.css">


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/H4cklife.github.io/img/apple-touch-icon-144-precomposed.png">
<link rel="shortcut icon" href="/H4cklife.github.io/img/favicon.png">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Windows 7 Kiosk Escape"/>
<meta name="twitter:description" content="Backstory One day I was on site with client and was tasked with assessing an application for them. This was troubling for two reasons: 1.) This was my first on site assessment and 2.) due to the nature of the content I was tasked to work with, my little visit there required full supervision, which meant that my primary point of contact (POC) watched over my shoulder as I worked on this application for about 4 or so hours."/>



<meta property="og:title" content="Windows 7 Kiosk Escape" />
<meta property="og:description" content="Backstory One day I was on site with client and was tasked with assessing an application for them. This was troubling for two reasons: 1.) This was my first on site assessment and 2.) due to the nature of the content I was tasked to work with, my little visit there required full supervision, which meant that my primary point of contact (POC) watched over my shoulder as I worked on this application for about 4 or so hours." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/H4cklife.github.io/posts/windows-7-kiosk-escape/" /><meta property="article:published_time" content="2019-07-25T10:15:07-06:00"/>
<meta property="article:modified_time" content="2019-07-25T10:15:07-06:00"/><meta property="og:site_name" content="H4cklife!!" />






  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a href="/H4cklife.github.io" class="logo" style="text-decoration: none;">
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" width="44" height="44" viewBox="0 0 44 44">
  <polyline fill="none" stroke="#000" stroke-width="2" points="15 8 29.729 22.382 15 35.367"/>
</svg>
</span>
    <span class="logo__text">H4cklife!!</span>
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/H4cklife.github.io/about/about">About</a></li>
        
      
        
          <li><a href="/H4cklife.github.io/beefhook/beefhook">Beefhooks</a></li>
        
      
      
    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/H4cklife.github.io/about/about">About</a></li>
      
    
      
        <li><a href="/H4cklife.github.io/beefhook/beefhook">Beefhooks</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  <div class="post">
    <h2 class="post-title"><a href="/H4cklife.github.io/posts/windows-7-kiosk-escape/">Windows 7 Kiosk Escape</a></h2>
    <div class="post-meta">
      
        <span class="post-date">
            2019-07-25
        </span>
      
      
      
        <span class="post-read-time">— 3 min read</span>
      
    </div>

    

    

    <div class="post-content">
      

<h3 id="backstory">Backstory</h3>

<p>One day I was on site with client and was tasked with assessing an application for them. This was troubling for two reasons: 1.) This was my first on site assessment and 2.) due to the nature of the content I was tasked to work with, my little visit there required full supervision, which meant that my primary point of contact (POC) watched over my shoulder as I worked on this application for about 4 or so hours.</p>

<p>On top of that I wasn&rsquo;t working from my work laptop which was full of hack tools and con-booting this machine wasn&rsquo;t necessarily in scope. Needless to say it was a tad bit nerve wrecking also considering the fact that this thing was LOCKED down in terms of being able to access any of the underlying Windows functionality; Or so I thought!</p>

<h3 id="hacking-tldrers-start-here">Hacking  &ndash;TLDRers Start here &ndash;&gt;</h3>

<p>So after spending a bunch of time poking around on this thing I noticed that <code>ctrl+alt+delete</code> worked, which brought up the screen below:</p>

<p><center>
<figure>
<img src="../../images/Kiosk_Escape/1.png" alt="Image of Windows 7 lock options" />
<figcaption>
Image of Windows 7 lock options
</figcaption>
</figure>
</center><br></p>

<p>From playing around in the past in the past and partially out of desperation I decided to open up the infamous <code>On Screen Keyboard</code> in hopes that this thing would give me additional Windows options:</p>

<p><center>
<figure>
<img src="../../images/Kiosk_Escape/2.png" alt="Image of On-Screen Keyboard options" />
<figcaption>
Image of On-Screen Keyboard options
</figcaption>
</figure>
</center><br></p>

<p>Once the on-screen keyboard options were available, I was able to select the <code>Control whether the On-Screen Keyboard starts...</code> option which brought up the following screenshot where I was then able to access the <code>Use Speech Recognition</code> option:</p>

<p><center>
<figure>
<img src="../../images/Kiosk_Escape/3.png" alt="Selecting Speech Recognition" />
<figcaption>
Selecting Speech Recognition
</figcaption>
</figure>
</center><br></p>

<p><strong>If you can get to this point it&rsquo;s pretty much game over.</strong> Here I just selected the control panel option and could access a whole bunch of other things. I mean right clicking and opening a command prompt could have probably worked sooner but this is what I did at the time.</p>

<p><center>
<figure>
<img src="../../images/Kiosk_Escape/4.png" alt="Image of Control Panel option" />
<figcaption>
Accessible Control Panel option
</figcaption>
</figure>
</center><br></p>

<p>Something to note about this vector is that it does require prior authentication and the PC needs to be unlocked when you hit <code>ctrl+alt+delete</code>. You cant simply walk up to a locked pc and access the accessibility options as the <code>Control whether the On-Screen Keyboard starts...</code> option will be missing if you do. Also, in this example the user that was authenticated at the time had local system administrative privileges so this instance was pretty bad but you may run in to other obstacles that makes this vector more or less viable for you to pull off. Just keep this in the back of your mind the next time you feel like checking out some of the complementary systems you have access to out there in the wild and remember: <strong>Do nothing without permission</strong>!</p>

    </div>
    
      <div class="pagination">
        <div class="pagination__title">
          <span class="pagination__title-h">Read other posts</span>
          <hr />
        </div>
        <div class="pagination__buttons">
          
            <span class="button previous">
              <a href="/H4cklife.github.io/posts/what-its-like-being-a-pentester-after-oscp/">
                <span class="button__icon">←</span>
                <span class="button__text">What It&#39;s Like Being a Pentester After OSCP</span>
              </a>
            </span>
          
          
            <span class="button next">
              <a href="/H4cklife.github.io/posts/lazysysadmin-writeup/">
                <span class="button__text">LazySysAdmin Writeup</span>
                <span class="button__icon">→</span>
              </a>
            </span>
          
        </div>
      </div>
    

    

    </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Copyright 2019</div>
    
  </div>
</footer>

<script src="/H4cklife.github.io/assets/main.js"></script>
<script src="/H4cklife.github.io/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
